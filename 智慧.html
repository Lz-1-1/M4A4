<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=, initial-scale=1.0">
        <title>Document</title>
        <style>   
            html,
            body,    
        #container {
        width: 100%;
        height: 100%;
        }
        .input-card{
            position: fixed;
            background-color: #877bcf;
            overflow-y: auto;
            width: 150px;
            height: 150px;
            top: 10px;
            right: 10px;
        }
        .input-card .btn{
        margin-right: 1.2rem;
        width: 9rem;
        }
        .input-card .btn:last-child{
        margin-right: 0;
        }
      </style>
    <script type="text/javascript">
        window._AMapSecurityConfig = {
          securityJsCode: "4aec55eeb726720be8f5628eedddb9f4",
        };
      </script>
      <script src="https://webapi.amap.com/loader.js"></script>
    <script src="https://webapi.amap.com/maps?v=2.0&key=45fd847a0f063a461eb89bdf1ac9bf04&plugin=AMap.Driving,AMap.Transfer,Amap.Walking,Amap.Riding,Amap.TruckDriving,Amap.DragRoute,AMap.MoveAnimation"></script>
    </head>
    <body>
    
        <div id="container"></div>
        <div class="input-card">
        <button class="btn" onclick="startAnimation()">开始动画</button>
        </div>
    
        <script>
    
              var map = new AMap.Map("container", {
              center:[108.949152, 28.446175],
              viewMode:'2D',
              zoom:15,
            });//初始地图加载
    
            marker0 = new AMap.Marker({
                map: map,
                position: [108.949152, 28.446175],
                icon: "https://a.amap.com/jsapi_demos/static/demo-center-v2/car.png",
                offset: new AMap.Pixel(-13, -26),
                duration:1000,
            });//图标
    
            AMap.plugin(["AMap.Driving","AMap.DragRoute"], function () {
            var driving = new AMap.Driving({
              map:map,
              policy:0, 
            });
            var path = [];
            path.push([108.949152, 28.446175]);
            path.push([108.950368, 28.445004]);
            path.push([108.951496, 28.444432]);
            path.push([108.952338, 28.443031]);
            path.push([108.952824, 28.442775]);
            path.push([108.952961, 28.439238]);
            path.push([108.953303, 28.437395]);
            path.push([108.954946, 28.437648]);
            path.push([108.955044, 28.431948]);
            path.push([108.960441, 28.434749]);
            path.push([108.976673, 28.43463]);
            path.push([108.989409, 28.434454]);
            path.push([108.994213, 28.435039]);
            path.push([108.99344, 28.441264]);
            path.push([108.993378, 28.441804]);
            path.push([108.99065, 28.440922]);
            path.push([108.987744, 28.439489]);
            path.push([108.987528, 28.441307]);
            var route = new AMap.DragRoute(map, path, 0);//动态
            route.search();
            driving.search(path,function(status,result){
                });
            });//动态路线动画
    
              function startAnimation(){
                marker0.moveAlong(path,{duration:1000,})//速度
              };
              AMap.plugin(['AMap.ToolBar','AMap.Scale','AMap.ControlBar','AMap.Geolocation','AMap.HawkEye','AMap.MapType'],function(){ 
    var toolbar = new AMap.ToolBar({position:{right:'100px',top:'420px'}}); //缩放工具条实例化
    map.addControl(toolbar); //添加控件
    var Scale = new AMap.Scale({position:{left:'50px',top:'720px'}});//比例尺
    map.addControl(Scale);
    var ControlBar = new AMap.ControlBar();
    map.addControl(ControlBar);
    var Geolocation = new AMap.Geolocation({position:{right:'100px',top:'490px'}});
    map.addControl(Geolocation);
    var HawkEye = new AMap.HawkEye({position:{right:'50px',top:'550px'}});
    map.addControl(HawkEye);
});
     
        </script>
        
    </body>
</html>